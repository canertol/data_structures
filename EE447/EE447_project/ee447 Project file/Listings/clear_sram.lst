


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; cursor.s  
    3 00000000         ; This program gets (X,Y) coordinates from R7 and R8. 
    4 00000000         ; Displays the cursor on the screen according to (X,Y).
    5 00000000         ;*******************************************************
                       ******** 
    6 00000000         ;*******************************************************
                       ******** 
    7 00000000         ; EQU Directives
    8 00000000         ; These directives do not allocate memory
    9 00000000         ;*******************************************************
                       ********
   10 00000000         ;LABEL   DIRECTIVE VALUE  COMMENT
   11 00000000 40004100 
                       DC      EQU              0x40004100
   12 00000000 4000800C 
                       SSI0_SR_R
                               EQU              0x4000800C
   13 00000000 40008008 
                       SSI0_DR_R
                               EQU              0x40008008
   14 00000000 00000087 
                       X       EQU              0x87
   15 00000000 00000041 
                       Y       EQU              0x41
   16 00000000 20000400 
                       memory  EQU              0x20000400
   17 00000000 20000500 
                       offset_memory
                               EQU              0x20000500
   18 00000000         ;*******************************************************
                       ********
   19 00000000         ; Program section           
   20 00000000         ;*******************************************************
                       ********
   21 00000000         ;LABEL   DIRECTIVE VALUE     COMMENT
   22 00000000                 AREA             main, READONLY, CODE
   23 00000000                 THUMB
   24 00000000                 EXPORT           clear_SRAM  ; Make available
   25 00000000         
   26 00000000         clear_SRAM
   27 00000000 B5FF            PUSH             {R0-R7,LR}
   28 00000002         
   29 00000002 F240 4200 
              F2C2 0200        MOV32            R2, memory
   30 0000000A F240 5400 
              F2C2 0400        MOV32            R4, offset_memory
   31 00000012 F04F 0540       MOV              R5, #64     ; for loop = 64  
   32 00000016 F04F 0604       MOV              R6, #4      ; change Y
   33 0000001A F04F 0700       MOV              R7, #0
   34 0000001E F802 7B01 
                       clear   STRB             R7, [R2], #1
   35 00000022 3D01            SUBS             R5, #1      ; memory--
   36 00000024 D1FB            BNE              clear
   37 00000026 F04F 0540       MOV              R5, #64     ; for loop = 64 
   38 0000002A 42A2            CMP              R2, R4      ; memory check in o
                                                            rder to be done
   39 0000002C D056            BEQ              finish



ARM Macro Assembler    Page 2 


   40 0000002E F1A6 0601       SUB              R6, #1
   41 00000032 2E02            CMP              R6, #2
   42 00000034 D801            BHI              Y2
   43 00000036 D01B            BEQ              Y3
   44 00000038 D335            BLO              Y4
   45 0000003A         
   46 0000003A F248 000C 
              F2C4 0000 
                       Y2      MOV32            R0, SSI0_SR_R
   47 00000042 6801            LDR              R1, [R0]
   48 00000044 F001 0110       AND              R1, #0x10
   49 00000048 2910            CMP              R1, #0x10
   50 0000004A D0F6            BEQ              Y2
   51 0000004C F244 1000 
              F2C4 0000        MOV32            R0, DC      ;dc_command  
   52 00000054 F04F 0100       MOV              R1, #0
   53 00000058 6001            STR              R1, [R0]
   54 0000005A         ; sent
   55 0000005A F248 0008 
              F2C4 0000        MOV32            R0, SSI0_DR_R
   56 00000062 F04F 0186       MOV              R1, #0x86   ; CURSOR RESET X=6
   57 00000066 6001            STR              R1, [R0]
   58 00000068 F04F 0142       MOV              R1, #0x42   ;  CURSOR RESET Y=2
                                                            
   59 0000006C 6001            STR              R1, [R0]
   60 0000006E E7D6            B                clear
   61 00000070         
   62 00000070 F248 000C 
              F2C4 0000 
                       Y3      MOV32            R0, SSI0_SR_R
   63 00000078 6801            LDR              R1, [R0]
   64 0000007A F001 0110       AND              R1, #0x10
   65 0000007E 2910            CMP              R1, #0x10
   66 00000080 D0F6            BEQ              Y3
   67 00000082 F244 1000 
              F2C4 0000        MOV32            R0, DC      ;dc_command  
   68 0000008A F04F 0100       MOV              R1, #0
   69 0000008E 6001            STR              R1, [R0]
   70 00000090         ; sent
   71 00000090 F248 0008 
              F2C4 0000        MOV32            R0, SSI0_DR_R
   72 00000098 F04F 0186       MOV              R1, #0x86   ; CURSOR RESET X=6
   73 0000009C 6001            STR              R1, [R0]
   74 0000009E F04F 0143       MOV              R1, #0x43   ;  CURSOR RESET Y=3
                                                            
   75 000000A2 6001            STR              R1, [R0]
   76 000000A4 E7BB            B                clear
   77 000000A6         
   78 000000A6 F248 000C 
              F2C4 0000 
                       Y4      MOV32            R0, SSI0_SR_R
   79 000000AE 6801            LDR              R1, [R0]
   80 000000B0 F001 0110       AND              R1, #0x10
   81 000000B4 2910            CMP              R1, #0x10
   82 000000B6 D0F6            BEQ              Y4
   83 000000B8 F244 1000 
              F2C4 0000        MOV32            R0, DC      ;dc_command  
   84 000000C0 F04F 0100       MOV              R1, #0
   85 000000C4 6001            STR              R1, [R0]



ARM Macro Assembler    Page 3 


   86 000000C6         ; sent
   87 000000C6 F248 0008 
              F2C4 0000        MOV32            R0, SSI0_DR_R
   88 000000CE F04F 0186       MOV              R1, #0x86   ; CURSOR RESET X=6
   89 000000D2 6001            STR              R1, [R0]
   90 000000D4 F04F 0144       MOV              R1, #0x44   ;  CURSOR RESET Y=4
                                                            
   91 000000D8 6001            STR              R1, [R0]
   92 000000DA E7A0            B                clear
   93 000000DC         
   94 000000DC E8BD 40FF 
                       finish  POP              {R0-R7,LR}
   95 000000E0 4770            BX               LR
   96 000000E2 00 00           ALIGN
   97 000000E4                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\clear_sram.d -o.\objects\clear_sram.o -I.\RTE\_Target
_1 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v
5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION 
SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\clear_sram.lst cl
ear_SRAM.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Y2 0000003A

Symbol: Y2
   Definitions
      At line 46 in file clear_SRAM.s
   Uses
      At line 42 in file clear_SRAM.s
      At line 50 in file clear_SRAM.s

Y3 00000070

Symbol: Y3
   Definitions
      At line 62 in file clear_SRAM.s
   Uses
      At line 43 in file clear_SRAM.s
      At line 66 in file clear_SRAM.s

Y4 000000A6

Symbol: Y4
   Definitions
      At line 78 in file clear_SRAM.s
   Uses
      At line 44 in file clear_SRAM.s
      At line 82 in file clear_SRAM.s

clear 0000001E

Symbol: clear
   Definitions
      At line 34 in file clear_SRAM.s
   Uses
      At line 36 in file clear_SRAM.s
      At line 60 in file clear_SRAM.s
      At line 76 in file clear_SRAM.s
      At line 92 in file clear_SRAM.s

clear_SRAM 00000000

Symbol: clear_SRAM
   Definitions
      At line 26 in file clear_SRAM.s
   Uses
      At line 24 in file clear_SRAM.s
Comment: clear_SRAM used once
finish 000000DC

Symbol: finish
   Definitions
      At line 94 in file clear_SRAM.s
   Uses
      At line 39 in file clear_SRAM.s
Comment: finish used once
main 00000000

Symbol: main
   Definitions
      At line 22 in file clear_SRAM.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Uses
      None
Comment: main unused
7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

DC 40004100

Symbol: DC
   Definitions
      At line 11 in file clear_SRAM.s
   Uses
      At line 51 in file clear_SRAM.s
      At line 67 in file clear_SRAM.s
      At line 83 in file clear_SRAM.s

SSI0_DR_R 40008008

Symbol: SSI0_DR_R
   Definitions
      At line 13 in file clear_SRAM.s
   Uses
      At line 55 in file clear_SRAM.s
      At line 71 in file clear_SRAM.s
      At line 87 in file clear_SRAM.s

SSI0_SR_R 4000800C

Symbol: SSI0_SR_R
   Definitions
      At line 12 in file clear_SRAM.s
   Uses
      At line 46 in file clear_SRAM.s
      At line 62 in file clear_SRAM.s
      At line 78 in file clear_SRAM.s

X 00000087

Symbol: X
   Definitions
      At line 14 in file clear_SRAM.s
   Uses
      None
Comment: X unused
Y 00000041

Symbol: Y
   Definitions
      At line 15 in file clear_SRAM.s
   Uses
      None
Comment: Y unused
memory 20000400

Symbol: memory
   Definitions
      At line 16 in file clear_SRAM.s
   Uses
      At line 29 in file clear_SRAM.s
Comment: memory used once
offset_memory 20000500

Symbol: offset_memory
   Definitions
      At line 17 in file clear_SRAM.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 30 in file clear_SRAM.s
Comment: offset_memory used once
7 symbols
348 symbols in table
